<?xml version="1.0" encoding="UTF-16" standalone="yes"?>
<yaf>

    <globals background="0 0 0 1" ambient="0.1 0.1 0.1 1" />

    <fog color="0 0 0 0" near="-1" far="-1" />

    <skybox
        size="1000 1000 1000"
        center="0 0 0"
        emissive="0.6 0.3 0.2 1"
        intensity="3"
        front="scene/textures/skybox_up.jpg"
        back="scene/textures/skybox_up.jpg"
        up="scene/textures/skybox_up.jpg"
        down="scene/textures/skybox_up.jpg"
        left="scene/textures/skybox_up.jpg"
        right="scene/textures/skybox_up.jpg"
    />

    <cameras initial="cam1">
        <perspective id="cam1"
            angle="60"
            near="0.1"
            far="1000"
            location="1000 30 30"
            target="50 0 0" />
    </cameras>

    <textures>
        <texture id="grassTex" filepath="scene/textures/grassTex.jpg" />
        <texture id ="metalTex" filepath ="scene/textures/metalTex2.jpg" />
    </textures>

    <materials>
        <material id="groundApp"
            color="0.0 0.314 0.0 1.0"
            emissive="0.0 0.0 0.0 1"
            specular="0 0 0 0"
            shininess="0"
        />

        <material id="roadApp"
            color="0.04 0.04 0.04 1.0"
            emissive="0.0 0.0 0.0 1"
            specular="0 0 0 0"
            shininess="0"
        />

        <material id="metalApp"
                  emissive="0.0 0.0 0.0 1"
                  color="0.478 0.498 0.502 1.0"
                  specular="0.478 0.498 0.502 1.0"
                  shininess="20"
                  textureref="metal2Tex"
                  shading="flat"/>

        <material id="screenApp"
            emissive="0.0 0.0 0.0 1.0"
            color="1.0 1.0 1.0 1.0"
            specular="1.0 1.0 1.0 1.0"
            shininess="0"
            twosided="true"
        />
    </materials>

    <track filepath="scene/f1-circuits/ae-2009.geojson"
        size="20"
        segments="500"
        width="4"
        texture="scene/textures/asphalt-texture.jpg"
    />

    <activatables>
        <powerup
            id="id1" subtype="1" position="0 0 -20" scale="1 1 1" rotation="0 0 0" duration="5000" />
        <obstacle
            id="id1" subtype="1" position="0.5 0.4 20" scale="1 1 1" rotation="1.5708 0 0" duration="5000" />
        <obstacle
            id="id2" subtype="2" position="0 1.5 10" scale="1 1 1" rotation="0 0 0" duration="5000" />
    </activatables>

    <graph rootid="scenario">
        <node id="scenario">
            <children>
                <noderef id="light" />
                <noderef id="ground" />
                <noderef id="parking_lot1" />
                <noderef id="parking_lot2" />
                <noderef id="parking_lot3" />
                <noderef id="screen" />
            </children>
        </node>

        <node id="light">
        <children>
            <pointlight id="light1"
                color="60 60 60 0"
                position="0 100 0"
                intensity="1"
                decay="1"
            />

            <pointlight id="light2"
                color="60 60 60 0"
                position="15 100 -200"
                intensity="1"
                decay="1"
                />

        </children>
        </node>

        <node id="ground">
        <transforms>
            <translate value3="0 -0.10 0" />
            <rotate value3="-1.5708 0 0" />
        </transforms>    

        <materialref id="groundApp" />

            <children>
                <primitive>
                  <rectangle xy1="-500 -500" xy2="500 500" />
                </primitive>
            </children>
        </node>

         <node id="parking_lot1">
            <transforms>
                <translate value3="0 0 -200" />
                <rotate value3="0 0 0" />
                <scale value3="1.5 1.5 1.5" />
            </transforms>    

            <children>
                <primitive>
                  <model3d filepath="scene/circuits/parking_lot_arena/scene.gltf" />
                </primitive>
            </children>
        </node> 

        <node id="parking_lot2">
            <transforms>
                <translate value3="20 0 -200.5" />
                <rotate value3="0 0 0" />
                <scale value3="1.5 1.5 1.5" />
            </transforms>    

            <children>
                <primitive>
                  <model3d filepath="scene/circuits/parking_lot_arena/scene.gltf" />
                </primitive>
            </children>
        </node>     

        <node id="parking_lot3_garage">
            <transforms>
                <translate value3="31 0 -204" />
                <scale value3="0.02 0.03 0.015" />
                <rotate value3="0 0 0" />
            </transforms>    

            <children>
                <primitive>
                  <model3d filepath="scene/circuits/graffiti_garage_02/scene.gltf" />
                </primitive>
            </children>
        </node>     

        <node id="parking_lot3_ground">
            <transforms>
                <translate value3="30 0.1 -200" />
                <scale value3="1 1 10" />
                <rotate value3="-1.5708 0 0" />
            </transforms> 

            <materialref id="roadApp" />   

            <children>
                <primitive>
                  <rectangle xy1="-5 -5" xy2="7 6" />
                </primitive>
            </children>
        </node>     
        
        <node id="parking_lot3_fence1">
            <transforms>
                <translate value3="25 0.1 -200.5" />
                <scale value3="0.025 0.01 0.02" />
                <rotate value3="0 1.5708 0" />
            </transforms> 

            <children>
                <primitive>
                  <model3d filepath="scene/circuits/low_poly_metal_fence__agustin_honnun/scene.gltf"/>
                </primitive>
            </children>
        </node>     

        <node id="parking_lot3_fence2">
            <transforms>
                <translate value3="37 0.1 -200.5" />
                <scale value3="0.025 0.01 0.02" />
                <rotate value3="0 1.5708 0" />
            </transforms> 

            <children>
                <primitive>
                  <model3d filepath="scene/circuits/low_poly_metal_fence__agustin_honnun/scene.gltf"/>
                </primitive>
            </children>
        </node>    

        <node id="parking_lot3_fence3">
            <transforms>
                <translate value3="31 0.1 -206.5" />
                <scale value3="0.025 0.01 0.02" />
                <rotate value3="0 0 0" />
            </transforms> 

            <children>
                <primitive>
                  <model3d filepath="scene/circuits/low_poly_metal_fence__agustin_honnun/scene.gltf"/>
                </primitive>
            </children>
        </node>  

        <node id="fences">
            <children>
                <noderef id="parking_lot3_fence1" />
                <noderef id="parking_lot3_fence2" />
                <noderef id="parking_lot3_fence3" />
            </children>
        </node>      

        <node id="parking_lot3">
        <transforms>
            <scale value3="1.5 1.5 1.5" />
            <translate value3="-6.5 0 100" />
        </transforms>
            <children>
                <noderef id="parking_lot3_ground" />
                <noderef id="parking_lot3_garage" />
                <noderef id="fences" />
            </children>  
        </node>

        <node id ="screen">
            <transforms>
                <translate value3="-15 0 0" />
                <scale value3="1 1 1" />
                <rotate value3="0 0 0" />
            </transforms>    

            <children>
                <primitive>
                  <rectangle xy1="0 0" xy2="10 5" />
                </primitive>
            </children>
        </node>

        <node id="nothing">
            <children>
            </children>
        </node>
    </graph>
</yaf>